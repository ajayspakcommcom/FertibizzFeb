<html>
    <head>
        <title>IVF : Dashboard </title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" type="text/css" href="/css/daterangepicker.css" />
        <link rel="stylesheet" href="/css/bootstrap.min.css" />
        <link rel="stylesheet" href="/css/app.css" />
    </head>
<body>
    
  <nav class="navbar" id="header"></nav>

  <main class="container">
    <h1>Dashboard</h1>

    <form>
      <div class="hospital-search-wrapper admin-filter-wrapper">
          <div class="form-group">
            <input type="text" name="daterange" value="01/01/2018 - 01/15/2018" class="common-input" />
          </div>
          <div class="form-group">
              <select class="form-control" id="zbmCombo">
                  <option>Zbm</option>
                  <option>Mumbai</option>
              </select>
          </div>
          <div class="form-group">
            <select class="form-control" id="rbmCombo">
              <option>Rbm</option>
              <option>Mumbai</option>
          </select>
          </div>
          <div class="form-group">
            <select class="form-control" id="kbmCombo">
              <option>Kbm</option>
              <option>Mumbai</option>
          </select>
        </div>
          <div class="form-group">
            <select class="form-control" id="brandCombo">
              <option>Brand</option>
              <option>Mumbai</option>
          </select>
          </div>
       </div>
      </div>
      <div class="search-btn-wrapper">
        <button type="reset" class="btn btn-success">Reset</button>
        <button type="submit" class="btn btn-success">Search</button>
     </div>
   </form>

    <h2 class="sub-heading">Business Chart</h2>
    <div id="business_chart"></div>

    <h2 class="sub-heading">Customer Master Chart</h2>
    <div id="customer_master_chart"></div>

    <h2 class="sub-heading">Potential Chart</h2>
    <div id="potential_chart"></div>

    <h2 class="sub-heading">RC Agreement Chart</h2>
    <div id="rc_agreement_chart"></div>

    <h2 class="sub-heading">No Of Centres With Xyz Product Entry</h2>
    <div id="product_entry_chart"></div>
    <!-- https://www.anychart.com/blog/2020/11/11/venn-diagram-javascript/ -->

  </main>

  <script src="../../js/common.js"></script>
  <script src="../../js/jquery.min.js"></script>

  <script src="../../js/moment.min.js"></script>
  <script src="../../js/daterangepicker.min.js"></script>

  <script type="text/javascript" src="../../js/googlechart.js"></script>


  <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-core.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-venn.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.9.0/themes/pastel.min.js"></script>

  <script src="../../js/axios.min.js"></script>
  <script src="../../js/bootstrap.min.js"></script>
  <script src="../../js/admin.js"></script>

  <script type="text/javascript">

    $(function () {
      $('input[name="daterange"]').daterangepicker({
        opens: 'left'
      }, function (start, end, label) {
        console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
      });
    });
    
    google.charts.load('current', {packages: ['corechart', 'bar']});
    google.charts.setOnLoadCallback(drawBusinessChart);
    google.charts.setOnLoadCallback(customerMasterChart);
    google.charts.setOnLoadCallback(potentialChart);
    google.charts.setOnLoadCallback(rcAgreementChart);


    function drawBusinessChart() {
        let data = google.visualization.arrayToDataTable([
          ['Element', 'ACHIEVEMENT', 'TARGET', '% ACH', { role: 'annotation' } ],
          ['Brand', 10, 24, 20, ''],
          ['Brand Wise', 16, 22, 23, ''],
          ['Brand Wise', 28, 19, 29, '']
        ]);

        let options = {
          width: 1140,
          height: 400,
          legend: { position: 'top', maxLines: 3 },
          bar: { groupWidth: '80%' },
          isStacked: true,
        };

        let chart = new google.visualization.ColumnChart(document.getElementById('business_chart'));
        chart.draw(data, options);
    }

    function customerMasterChart() {
      var data = new google.visualization.DataTable();
      var data = google.visualization.arrayToDataTable([
         ['Element', 'Customer', { role: 'style' }],
         ['Customers', 3734834, '#272666'],            // RGB value
         ['Centre Admin', 3734734, '#272666'],            // English color name
         ['Embryologist', 3734834, '#272666'],
         ['Purchase Incharge', 3731834, 'color: #272666' ], // CSS-style declaration
         ['IUI Speacialists', 3734834, 'color: #272666' ], // CSS-style declaration
         ['IVF Head Nurse', 3739834, 'color: #272666' ], // CSS-style declaration
         ['IVF Dr Assistant', 3734834, 'color: #272666' ], // CSS-style declaration
         ['IVF Dr Core', 3738834, 'color: #272666' ], // CSS-style declaration
      ]);



      var chart = new google.visualization.ColumnChart(document.getElementById('customer_master_chart'));
      chart.draw(data, { width: 1140});
    }


    function potentialChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Total No of IUI cycles', 11],
          ['Total No of IVF cycles', 2],
          ['Fresh Pick Ups', 2],
          ['Frozen Transfers', 2],
          ['Self (Patient) Cycles', 7],
          ['Donor Cycles', 7],
          ['Agonist Cycles', 7],
          ['Antagonist Cycles', 7]
        ]);

        var options = {
          title: 'My Daily Activities',
          height: 600,
          width: 1140
        };

        var chart = new google.visualization.PieChart(document.getElementById('potential_chart'));

        chart.draw(data, options);
      }

    function rcAgreementChart() {
      var data = new google.visualization.DataTable();
   
      var data = google.visualization.arrayToDataTable([
         ['Element', 'RC Agreement', { role: 'style' }],
         ['Customers', 3734834, '#272666'],            // RGB value
         ['Centre Agreements Count', 3734734, '#272666'],            // English color name
         ['Collapsible List', 3734834, '#272666']
      ]);

      var chart = new google.visualization.ColumnChart(document.getElementById('rc_agreement_chart'));
      chart.draw(data, { width: 1140});
    }

    function productEntryChart() {
        anychart.onDocumentReady(function () {
          // set chart theme
          anychart.theme('pastel');

          var data = [
            {
              x: 'A',
              value: 100,
              name: 'Asporelix Acc',
              tooltipTitle: 'Asporelix Acc \n 79',
              normal: { fill: "#8ecafb 0.7" },
              hovered: { fill: "#8ecafb 1" },
              selected: { fill: "#8ecafb 1" }
            },
            {
              x: 'B',
              value: 100,
              name: 'Foligraf Acc',
              tooltipTitle: 'Foligraf Acc \n 60',
              normal: { fill: "#ffeaa6 0.7" },
              hovered: { fill: "#ffeaa6 1" },
              selected: { fill: "#ffeaa6 1" }
            },
            {
              x: 'C',
              value: 100,
              name: 'Humog Acc',
              tooltipTitle: 'Humog Acc \n 60',
              normal: { fill: "#ee957f 0.7" },
              hovered: { fill: "#ee957f 1" },
              selected: { fill: "#ee957f 1" }
            },
            {
              x: 'D',
              value: 100,
              name: 'Rhcg Acc',
              tooltipTitle: 'Rhcg Acc \n 60',
              normal: { fill: "#ee957f 0.7" },
              hovered: { fill: "#ee957f 1" },
              selected: { fill: "#ee957f 1" }
            },
            {
              x: ['A', 'C'],
              value: 20,
              name: 'Add to \n wishlist',
              tooltipTitle: 'Add to wishlist',
              tooltipDesc: 'Add the ingredients in the next shopping list',
              normal: { fill: "#a98caf 0.6" },
              hovered: { fill: "#a98caf 1" },
              selected: { fill: "#a98caf 1" },
              hatchFill: {
                type: "weave",
                color: "#8b6b92"
              }
            },
            {
              x: ['A', 'D'],
              value: 20,
              name: 'Add to \n wishlist',
              tooltipTitle: 'Add to wishlist',
              tooltipDesc: 'Add the ingredients in the next shopping list',
              normal: { fill: "#a98caf 0.6" },
              hovered: { fill: "#a98caf 1" },
              selected: { fill: "#a98caf 1" },
              hatchFill: {
                type: "weave",
                color: "#8b6b92"
              }
            },
            {
              x: ['A', 'B'],
              value: 20,
              name: 'Possibility \n of disaster',
              tooltipTitle: 'Possibility of disaster',
              tooltipDesc: 'Keep a backup ready',
              normal: { fill: "#9fdebe 0.8" },
              hovered: { fill: "#9fdebe 1" },
              selected: { fill: "#9fdebe 1" },
              hatchFill: {
                type: "weave",
                color: "#83c3a3"
              }
            },
            {
              x: ['B', 'D'],
              value: 20,
              name: 'Possibility \n of disaster',
              tooltipTitle: 'Possibility of disaster',
              tooltipDesc: 'Keep a backup ready',
              normal: { fill: "#9fdebe 0.8" },
              hovered: { fill: "#9fdebe 1" },
              selected: { fill: "#9fdebe 1" },
              hatchFill: {
                type: "weave",
                color: "#83c3a3"
              }
            },
            {
              x: ['B', 'C'],
              value: 20,
              name: 'Try on a \n holiday',
              tooltipTitle: 'Try on a holiday',
              tooltipDesc: 'When there is no other work pending',
              normal: { fill: "#f5b57c 0.8" },
              hovered: { fill: "#f5b57c 1" },
              selected: { fill: "#f5b57c 1" },
              hatchFill: {
                type: "weave",
                color: "#d09259"
              }
            },
            {
              x: ['C', 'D'],
              value: 20,
              name: 'Try on a \n holiday',
              tooltipTitle: 'Try on a holiday',
              tooltipDesc: 'When there is no other work pending',
              normal: { fill: "#f5b57c 0.8" },
              hovered: { fill: "#f5b57c 1" },
              selected: { fill: "#f5b57c 1" },
              hatchFill: {
                type: "weave",
                color: "#d09259"
              }
            },
            {
              x: ['A', 'B', 'C', 'D'],
              value: 30,
              name: 'The Perfect \n Recipe',
              tooltipTitle: 'The Perfect Recipe',
              tooltipDesc: 'Easy to follow and fast to cook with whatever is in the kitchen',
              label: { enabled: true, fontStyle: 'normal' },
              normal: { fill: "#8392ab 0.9" },
              hovered: { fill: "#8392ab 1" },
              selected: { fill: "#8392ab 1" },
              hatchFill: {
                type: "percent40",
                color: "#5f6b7d"
              }
            }
          ];

          // create venn diagram
          var chart = anychart.venn(data);

          // set chart title
          chart
            .title()
            .enabled(true)
            .fontFamily('Roboto, sans-serif')
            .fontSize(24)
            .padding({ bottom: 30 })
            .text('No Of Centres With Xyz Product Entry');

          // set chart stroke
          chart.stroke('2 #fff');

          // set labels settings
          chart
            .labels()
            .fontSize(20)
            .fontColor('#5e6469')
            .hAlign("center")
            .vAlign("center")
            .fontFamily('Roboto, sans-serif')
            .fontWeight('500')
            .format('{%Name}');

          // set intersections labels settings
          chart
            .intersections()
            .labels()
            .fontColor('#fff')
            .format('{%Name}');

          // disable legend
          chart.legend(false);

          // set tooltip settings
          chart
            .tooltip()
            .titleFormat('{%tooltipTitle}')
            .format("{%tooltipDesc}")
            .background().fill("#000 0.5");

          // set container id for the chart
          chart.container('product_entry_chart');
          // initiate chart drawing
          chart.draw();
        });
      }

      productEntryChart();

  </script>

</body>
</html>